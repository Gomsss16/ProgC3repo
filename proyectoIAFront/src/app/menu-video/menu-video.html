<div class="container-principal">
  <div class="container-inputarea animate__animated animate__lightSpeedInLeft">
    <h1 class="title">INGRESE EL VIDEO QUE DESEE ANALIZAR</h1>
    <form (ngSubmit)="onVerify($event)">
      <div class="upload-container">
        <div class="upload-flex">
          <div class="upload-wrapper">
            <div class="upload-dropzone">
              <div class="upload-content">
                <img
                  alt="Video Icon"
                  src="assets/video-icon.png"
                  width="50px"
                />
                <span class="upload-title">Arrastre o suelte su video aquÃ­</span>
                <span class="upload-subtitle">o haga clic para subir (.mp4, .avi, .mov, .mkv)</span>
              </div>

              <input
                class="upload-input"
                type="file"
                accept=".mp4,.avi,.mov,.mkv"
                (change)="onFileSelected($event)"
              />
            </div>
          </div>
        </div>
      </div>

      <div class="link-container">
        <a routerLink="/panel/menu-texto" class="custom-link">Revisar texto</a>
        <a routerLink="/panel/menu-archivo" class="custom-link">Revisar archivo</a>
        <a routerLink="/panel/menu-imagen" class="custom-link">Revisar imagen</a>
      </div>

      <button type="submit" class="animated-button">
        <svg viewBox="0 0 24 24" class="arr-2">
          <path d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"></path>
        </svg>
        <span class="text">Verificar</span>
        <span class="circle"></span>
        <svg viewBox="0 0 24 24" class="arr-1">
          <path d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"></path>
        </svg>
      </button>

      <div class="alert" *ngIf="message" [ngClass]="messageType">
        {{ message }}
      </div>
    </form>
  </div>

  <h1 class="title animate__animated animate__jackInTheBox" style="margin: 5vh">OPINIÃ“N DE IAS</h1>

  <div *ngIf="promedioGeneral > 0" class="promedio-general" style="text-align: center; margin: 2vh 0;">
    <h2>
      ðŸ“Š Promedio General:
      <span [style.color]="promedioGeneral >= 75 ? 'red' : promedioGeneral >= 50 ? 'orange' : 'green'">
        {{ promedioGeneral.toFixed(1) }}%
      </span>
    </h2>
  </div>

  <div class="books-container">
    <div class="book" style="margin: 5vh" *ngFor="let modelo of modelos">
      <div class="card">
        <div class="tools">
          <img [src]="modelo.logo" [alt]="modelo.nombre + ' logo'" width="50px" />
          <h3>{{ modelo.nombre }}</h3>
        </div>
        <div class="card__content">
          <h6>{{ modelo.texto || 'Esperando anÃ¡lisis...' }}</h6>
        </div>
      </div>
      <div class="card-porcentaje">
        <h6 style="margin: 10px">
          Porcentaje de IA:
          <span [style.color]="modelo.porcentaje >= 75 ? 'red' : modelo.porcentaje >= 50 ? 'orange' : 'green'">
            {{ modelo.porcentaje.toFixed(1) }}%
          </span>
        </h6>
      </div>
      <div class="cover">
        <p>{{ modelo.nombre }}</p>
        <img [src]="modelo.logo" width="50px" [alt]="modelo.nombre + ' logo'" />
      </div>
    </div>
  </div>
</div>
